var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("bb26h");var i=s("krGWQ"),r=s("cky31"),d=s("jew7v"),a=(s("cky31"),r=s("cky31"),s("lUanL"));const o=new(0,d.default),l=document.querySelector(".modal__wrap");let c,u,b,m;i.refs.closeModalBtnForOneMovie.addEventListener("click",(function(){i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",v),document.removeEventListener("click",f)})),i.refs.libGallery.addEventListener("click",(function(e){if(!function(e){const t=e.target.nodeName;return"plug"!==e.target.getAttribute("alt")&&("DIV"===t||"IMG"===t||"P"===t||"SPAN"===t)}(e))return;i.refs.backdropOneMovie.classList.remove("is-hidden"),document.body.classList.add("modal-open");const t=function(e){let t=[];_.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("watched-films")));L.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("queue-films")));return p=t.find((t=>t.id===e)),p}(Number(e.target.id));(function({genre_ids:e,poster_path:t,original_title:n,overview:s,popularity:i,title:d,vote_average:a,vote_count:o,id:c}){l.innerHTML="";const u=t?`https://image.tmdb.org/t/p/w500${t}`:"https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg";l.innerHTML=`\n  <div class="image__wrap">\n    <img class="image" src="https://image.tmdb.org/t/p/original${u}" alt="${d||"No title"}" />\n  </div>\n  <div class="description__wrap">\n    <h1 class="description__title">${d||"No title"}</h1>\n    <table>\n      <tr class="table__wrap">\n        <td class="description__table">Vote / Votes</td>\n        <td class="description__table-result">\n          <span class="votes">${a.toFixed(1)||"No data"}</span> /${o||"No data"}\n        </td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Popularity</td>\n        <td class="description__table-result">${i.toFixed(1)||"No data"}</td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Original Title</td>\n        <td class="description__table-result">${n||"No original title"}</td>\n      </tr>\n\n      <tr class="table__wrap">\n        <td class="description__table">Genre</td>\n        <td class="description__table-result">${(0,r.getGenres)(e,100)||"No genres info"}</td>\n      </tr>\n    </table>\n    <p class="descrption__about">ABOUT</p>\n    <p class="description__text">\n     ${s||"There is no imformation about this movie"}\n    </p>\n    <ul class="btn__wrap">\n      <li>\n        <button class="btn btn__modal-add">add to Watched</button>\n        <button class="btn btn__modal-r-watched is-hidden">remove from Watched</button>\n      </li>\n      <li>\n        <button class="btn btn__modal-queue">add to queue</button>\n        <button class="btn btn__modal-r-queue is-hidden">remove from queue</button>\n      </li>\n    </ul>\n    <div class="btn__wrap">\n    <button class="btn play-trailer" id="${c}">Watch Trailer</button>\n    </div>\n  </div>\n`})(t),c=document.querySelector(".btn__modal-add"),u=document.querySelector(".btn__modal-queue"),m=document.querySelector(".btn__modal-r-queue"),b=document.querySelector(".btn__modal-r-watched"),c.addEventListener("click",h),b.addEventListener("click",g),u.addEventListener("click",y),m.addEventListener("click",k);document.querySelector(".play-trailer").addEventListener("click",a.createTrailerLink),document.addEventListener("keydown",v),document.addEventListener("click",f),o.checkFilmInWatchedLocStor(t)&&(c.classList.add("is-hidden"),b.classList.remove("is-hidden"));o.checkFilmInQueueLocStor(t)&&(u.classList.add("is-hidden"),m.classList.remove("is-hidden"))}));let p={};(0,r.renderFilmsLibrary)(o.getWathedFilmsList());const L=document.querySelector(".queue-button"),_=document.querySelector(".watched-button");function v(e){"Escape"==e.code&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function f(e){e.target==i.refs.backdropOneMovie&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function h(){o.refreshData(),o.addToWatchedFilms(p),o.saveWatchedFilms(),c.classList.add("is-hidden"),b.classList.remove("is-hidden"),_.classList.contains("currentbtn")&&(1===o.getWathedFilmsList().length&&(i.refs.libGallery.innerHTML=""),F())}function g(){c.classList.remove("is-hidden"),b.classList.add("is-hidden"),o.removeFromWatched(p),_.classList.contains("currentbtn")&&w(),0===o.getWathedFilmsList().length&&(0,r.setImgInLib)()}function y(){o.myAddToQueueFilms(p),u.classList.add("is-hidden"),m.classList.remove("is-hidden"),L.classList.contains("currentbtn")&&(1===o.getQueueFilmsList().length&&(i.refs.libGallery.innerHTML=""),F())}function k(){u.classList.remove("is-hidden"),m.classList.add("is-hidden"),o.removeFromQueue(p),L.classList.contains("currentbtn")&&w(),0===o.getQueueFilmsList().length&&(0,r.setImgInLib)()}function w(){document.getElementById(p.id).remove()}function F(){(0,r.renderFilmsLibrary)([p])}L.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getQueueFilmsList()),L.style.backgroundColor="#ff6b01",L.style.border="none",_.style.backgroundColor="transparent",_.style.border="1px solid white",_.classList.remove("currentbtn"),L.classList.add("currentbtn")})),_.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getWathedFilmsList()),L.style.backgroundColor="transparent",L.style.border="1px solid white",_.style.backgroundColor="#ff6b01",_.style.border="none",L.classList.remove("currentbtn"),_.classList.add("currentbtn")}));
//# sourceMappingURL=library.89bc0fed.js.map
