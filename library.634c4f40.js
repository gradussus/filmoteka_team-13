const e={backdrop:document.querySelector(".backdrop"),teamLink:document.querySelector(".js-team"),spinerBackdrop:document.querySelector(".spiner__backdrop"),filmsListRef:document.querySelector(".films"),gallery:document.querySelector(".gallery__set"),libGallery:document.querySelector(".lib-gallery__set"),container:document.getElementById("pagination"),galleryGenreItem:document.querySelector(".film__genres"),form:document.querySelector(".header-film__form"),closeModalBtnForOneMovie:document.querySelector(".modal__button"),modalForOneMovie:document.querySelector(".modal"),backdropOneMovie:document.querySelector(".backdrop"),btnAddToWatched:document.querySelector(".btn__modal-add"),btnRemoveFromWatched:document.querySelector(".btn__modal-r-watched"),btnAddToQuene:document.querySelector(".btn__modal-queue"),btnRemoveFromQuene:document.querySelector(".btn__modal-r-queue")};function t(e,t){const s=JSON.parse(localStorage.getItem("genres")),l=[];for(let a=0;a<t&&a<e.length;a++)for(const t of s)e[a]===t.id&&l.push(t.name);return 0===l.length?"No genres info":(e.length>t&&l.push("Other"),l.join(", "))}function s(s){s.map((({poster_path:e,genre_ids:s,title:l,release_date:a,id:i})=>`<li class="films__item" data-id=${i}>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original${e} alt="${l}" loading="lazy">\n                </div>\n                <div class="films__description">\n                  <p class="films__title">${l}</p>\n                  <div class="films__meta">\n                    <span class="films__genres">${t(s)}</span>\n                    <span class="films__sep">|</span>\n                    <span class="films__data">${a.slice(0,4)||"No year info"}</span>\n                  </div>\n                </div>\n            </li>`)).forEach((t=>e.libGallery.insertAdjacentHTML("beforeend",t)))}const l=new class{refreshData(){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")))}refreshDataQueue(){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")))}addToWatchedFilms(e){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"))),this._watchedFilmsList.push(e),this.saveWatchedFilms()}addToQueueFilms(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),this.saveQueueFilms()}saveWatchedFilms(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilmsList))}saveQueueFilms(){localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}getWathedFilmsList(){if(localStorage.getItem("watched-films"))return JSON.parse(localStorage.getItem("watched-films"))}getQueueFilmsList(){if(localStorage.getItem("queue-films"))return JSON.parse(localStorage.getItem("queue-films"))}constructor(){this._watchedFilmsList=[],this._queueFilmsList=[],this.refreshData(),this.refreshDataQueue()}};s(l.getWathedFilmsList());document.querySelector(".queue-button").addEventListener("click",(function(){e.libGallery.innerHTML="",s(l.getQueueFilmsList())}));
//# sourceMappingURL=library.634c4f40.js.map
