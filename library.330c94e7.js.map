{"mappings":"6DAAA,IAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,uBAC9BC,SAAUF,SAASC,cAAc,2BACjCE,mBAAoBH,SAASC,cAAc,aAe7C,SAASG,EAAcC,GACF,WAAfA,EAAMC,OACRR,EAAKC,MAAMQ,UAAUC,IAAI,aACzBR,SAASS,oBAAoB,UAAWL,GACxCJ,SAASS,oBAAoB,QAASC,G,CAG1C,SAASA,EAAgBL,GACnBA,EAAMM,SAAWb,EAAKC,QACxBD,EAAKC,MAAMQ,UAAUC,IAAI,aACzBR,SAASS,oBAAoB,QAASC,GACtCV,SAASS,oBAAoB,UAAWL,G,CAvB5CN,EAAKK,mBAAmBS,iBAAiB,SAAS,SAAAC,GAChDA,EAAEC,iBACFhB,EAAKC,MAAMQ,UAAUQ,OAAO,aAC5Bf,SAASY,iBAAiB,UAAWR,GACrCJ,SAASY,iBAAiB,QAASF,E,IAErCZ,EAAKI,SAASU,iBAAiB,SAAS,SAAAC,GACtCA,EAAEC,iBACFhB,EAAKC,MAAMQ,UAAUC,IAAI,aACzBR,SAASS,oBAAoB,UAAWL,GACxCJ,SAASS,oBAAoB,QAASC,E,IChBxC,IAAMM,EAAO,CACXC,SAAUjB,SAASC,cAAc,aACjCiB,SAAUlB,SAASC,cAAc,YACjCkB,eAAgBnB,SAASC,cAAc,qBACvCmB,aAAcpB,SAASC,cAAc,UACrCoB,QAASrB,SAASC,cAAc,iBAChCqB,WAAYtB,SAASC,cAAc,qBACnCsB,UAAWvB,SAASwB,eAAe,cACnCC,iBAAkBzB,SAASC,cAAc,iBACzCyB,KAAM1B,SAASC,cAAc,sBAC7B0B,yBAA0B3B,SAASC,cAAc,kBACjD2B,iBAAkB5B,SAASC,cAAc,UACzC4B,iBAAkB7B,SAASC,cAAc,aACzC6B,gBAAiB9B,SAASC,cAAc,mBACxC8B,qBAAsB/B,SAASC,cAAc,yBAC7C+B,cAAehC,SAASC,cAAc,qBACtCgC,mBAAoBjC,SAASC,cAAc,wBCgBtC,SAASiC,EAAUC,EAAWC,GAInC,IAHA,IAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,WACzCC,EAAY,GAGZC,EAAa,EACjBA,EAAaP,GAAkBO,EAAaR,EAAUS,OACtDD,IACA,C,IACKE,GAAW,EAAXC,GAAW,EAAXC,OAAWC,E,IAAhB,QAAKC,EAAAC,EAAeb,EAAMc,OAAAC,cAArBP,GAAAI,EAAAC,EAAWG,QAAAC,MAAXT,GAAW,GAAX,IAAMU,EAANN,EAAWM,MACVpB,EAAUQ,KAAgBY,EAAMC,IAClCd,EAAUe,KAAKF,EAAMG,K,WAFpBZ,GAAW,EAAXC,EAAWY,C,aAAXd,GAAW,MAAXK,EAAWU,QAAXV,EAAWU,Q,YAAXd,E,MAAAC,C,GASP,OAHIZ,EAAUS,OAASR,GACrBM,EAAUmB,OAAOzB,EAAiB,EAAG,EAAG,SAEnCM,EAAUoB,KAAK,K,CAGjB,SAASC,EAAmBC,GACjC,GAAIA,EACF,OAAKA,EAAMpB,YAIXoB,EACGC,KAAI,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAahC,EAAS+B,EAAT/B,UAAWiC,EAAKF,EAALE,MAAOC,EAAYH,EAAZG,aAAcb,EAAEU,EAAFV,GAC7Cc,EAASH,EACX,kCAA8CI,OAAZJ,GACjC,kEACL,MAAO,8BAEmDI,OAFrBf,GAAO,QAAO,iHAGjDe,OADwDD,EAAO,UAK7BC,OAJlCH,GAAS,WACV,2IAOaG,OAJsBH,GAAS,WAAW,yGAS1CG,OALArC,EAAUC,EAAW,MAAQ,iBAC9B,oHAKAoC,OADC,IAAIC,KAAKH,GAAcI,eAAiB,UACzC,+E,IAKdC,SAAQ,SAAAC,G,OAAK3D,EAAKM,WAAWsD,mBAAmB,YAAaD,E,SA9B9DE,IAiCJA,G,CAGK,SAASA,IACd,IAAMC,EAAM9E,SAAS+E,cAAc,OACnCD,EAAIE,IACF,qKACFF,EAAIG,IAAM,QACVH,EAAII,MAAQ,MACZlE,EAAKM,WAAW6D,OAAOL,E,UCjGzBM,OAAOC,eAAeC,EAAS,aAAc,CACzC/B,OAAO,IAEX+B,EAAQC,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBhF,EAAQiF,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAMhD,OAAQiD,IAAI,CACjC,IAAIC,EAAaF,EAAMC,GACvBC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDb,OAAOC,eAAe1E,EAAQmF,EAAWI,IAAKJ,E,EAftDV,OAAOC,eAAec,EAAS,aAAc,CACzC5C,OAAO,IAEX4C,EAAQZ,QACR,SAAsBE,EAAaW,EAAYC,GACvCD,GAAYT,EAAkBF,EAAYa,UAAWF,GACrDC,GAAaV,EAAkBF,EAAaY,GAChD,OAAOZ,C,ECRI,ICgBXc,EAEAC,EACAC,EACAC,EAVEC,EAAU,IDqHb,W,sBA/HkBC,I,aAEjBC,KAAKC,kBAAoB,GACzBD,KAAKE,gBAAkB,GACvBF,KAAKG,cACLH,KAAKI,kB,iBAEPf,IAAA,c,MAAA,WACM1D,aAAaC,QAAQ,mBACvBoE,KAAKC,kBAAoBxE,KAAKC,MAC5BC,aAAaC,QAAQ,kB,IAM3ByD,IAAA,mB,MAAA,WACM1D,aAAaC,QAAQ,iBACvBoE,KAAKE,gBAAkBzE,KAAKC,MAAMC,aAAaC,QAAQ,gB,IAK3DyD,IAAA,oB,MAAA,SAAkBgB,GACZ1E,aAAaC,QAAQ,mBACvBoE,KAAKC,kBAAoBxE,KAAKC,MAC5BC,aAAaC,QAAQ,mBAGzBoE,KAAKC,kBAAkBrD,KAAKyD,GAC5BL,KAAKM,kB,IAGPjB,IAAA,oB,MAAA,SAAkBkB,GACZ5E,aAAaC,QAAQ,iBACvBoE,KAAKE,gBAAkBzE,KAAKC,MAAMC,aAAaC,QAAQ,iBAGzDoE,KAAKE,gBAAgBtD,KAAK2D,GAC1B5E,aAAa6E,QAAQ,cAAe/E,KAAKgF,UAAUT,KAAKE,iB,IAG1Db,IAAA,kB,MAAA,SAAgBgB,GACV1E,aAAaC,QAAQ,iBACvBoE,KAAKE,gBAAkBzE,KAAKC,MAAMC,aAAaC,QAAQ,iBAEzDoE,KAAKE,gBAAgBtD,KAAKyD,GAC1BL,KAAKU,gB,IAGPrB,IAAA,mB,MAAA,WACE1D,aAAa6E,QACX,gBACA/E,KAAKgF,UAAUT,KAAKC,mB,IAIxBZ,IAAA,iB,MAAA,WACE1D,aAAa6E,QAAQ,cAAe/E,KAAKgF,UAAUT,KAAKE,iB,IAG1Db,IAAA,qB,MAAA,WACE,GAAK1D,aAAaC,QAAQ,iBAI1B,OAAOH,KAAKC,MAAMC,aAAaC,QAAQ,iB,IAEzCyD,IAAA,oB,MAAA,WACE,GAAK1D,aAAaC,QAAQ,eAI1B,OAAOH,KAAKC,MAAMC,aAAaC,QAAQ,e,IAEzCyD,IAAA,oB,MAAA,SAAkBkB,GAChB,GAAK5E,aAAaC,QAAQ,iBAA1B,CAGAoE,KAAKC,kBAAoBxE,KAAKC,MAAMC,aAAaC,QAAQ,kBACzD,IAAM+E,EAAQX,KAAKC,kBAAkBW,WACnC,SAAAC,G,OAAUA,EAAOtD,QAAUgD,EAAKhD,K,IAElCyC,KAAKC,kBAAkBjD,OAAO2D,EAAO,GACrCX,KAAKM,kBAPH,C,IASJjB,IAAA,kB,MAAA,SAAgBkB,GACd,GAAK5E,aAAaC,QAAQ,eAA1B,CAGAoE,KAAKE,gBAAkBzE,KAAKC,MAAMC,aAAaC,QAAQ,gBACvD,IAAM+E,EAAQX,KAAKE,gBAAgBU,WACjC,SAAAC,G,OAAUA,EAAOtD,QAAUgD,EAAKhD,K,IAElCyC,KAAKE,gBAAgBlD,OAAO2D,EAAO,GACnCX,KAAKU,gBAPH,C,IAUJrB,IAAA,4B,MAAA,SAA0BkB,GACxB,GAAK5E,aAAaC,QAAQ,iBAO1B,OAJAoE,KAAKC,kBAAoBxE,KAAKC,MAAMC,aAAaC,QAAQ,oBAC1CoE,KAAKC,kBAAkBa,MACpC,SAAAD,G,OAAUA,EAAOtD,QAAUgD,EAAKhD,K,OAQpC8B,IAAA,0B,MAAA,SAAwBkB,GACtB,GAAK5E,aAAaC,QAAQ,eAO1B,OAJAoE,KAAKE,gBAAkBzE,KAAKC,MAAMC,aAAaC,QAAQ,kBACxCoE,KAAKE,gBAAgBY,MAClC,SAAAD,G,OAAUA,EAAOtD,QAAUgD,EAAKhD,K,UASnC,ICpHGwD,EAAmB5H,SAASC,cAAc,gBAChDe,EAAKW,yBAAyBf,iBAAiB,SAuH/C,WACEI,EAAKa,iBAAiBtB,UAAUC,IAAI,aACpCR,SAAS6H,KAAKtH,UAAUQ,OAAO,cAE/Bf,SAASS,oBAAoB,UAAWqH,GACxC9H,SAASS,oBAAoB,QAASsH,E,IA3HxC/G,EAAKM,WAAWV,iBAAiB,SA+EjC,SAAqBC,GACnB,IAdF,SAAoBA,GAClB,IAAMmH,EAAUnH,EAAEF,OAAOsH,SACzB,MACc,QAAZD,GACY,QAAZA,GACY,MAAZA,GACY,SAAZA,C,CAQGE,CAAWrH,GACd,OAGFG,EAAKa,iBAAiBtB,UAAUQ,OAAO,aACvCf,SAAS6H,KAAKtH,UAAUC,IAAI,cAE5B,IACM2H,GA5BiBzE,EA2BN7C,EAAEF,OAAOsE,IA1BpBmD,EAAWC,IACjBC,EAAcF,EAAST,MAAK,SAAAD,G,OAAUA,EAAOa,iBAAmB7E,C,KAFlE,IAAyBA,EACjB0E,GAsER,SAAgClE,G,IAC9B/B,EAD8B+B,EAC9B/B,UACAgC,EAF8BD,EAE9BC,YACAoE,EAH8BrE,EAG9BqE,eACAC,EAJ8BtE,EAI9BsE,SACAC,EAL8BvE,EAK9BuE,WACArE,EAN8BF,EAM9BE,MACAsE,EAP8BxE,EAO9BwE,aACAC,EAR8BzE,EAQ9ByE,WAEAf,EAAiBgB,UAAY,GAC7B,IAAMtE,EAASH,EACX,kCAA8CI,OAAZJ,GACjC,kEACGyD,EAAiBgB,UAAY,iGAGnCrE,OAD6DD,EAAO,WAKnCC,OAJjCH,GAAS,WACV,0FAQ6BG,OALKH,GAAS,WAAW,gMAMrDG,OAD4BmE,EAAaG,QAAQ,IAAM,UAAU,aAQ3DtE,OAPNoE,GAAc,UACf,wKAYOpE,OANAkE,EAAWI,QAAQ,IAAM,UAC1B,kKAYCtE,OAPAgE,GAAkB,oBACnB,2JAYFhE,OANGrC,EAAUC,EAAW,MAAQ,iBAC9B,0HAKqDoC,OAAvDiE,GAAY,2CAA2C,wa,EA9F5DM,CAAuBX,GAIvB5B,EAAkBvG,SAASC,cAAc,mBACzCuG,EAAgBxG,SAASC,cAAc,qBACvCyG,EAAqB1G,SAASC,cAAc,uBAC5CwG,EAAuBzG,SAASC,cAAc,yBAE9CsG,EAAgB3F,iBAAiB,QAASmI,GAC1CtC,EAAqB7F,iBAAiB,QAASoI,GAC/CxC,EAAc5F,iBAAiB,QAASqI,GACxCvC,EAAmB9F,iBAAiB,QAASsI,GAG7ClJ,SAASY,iBAAiB,UAAWkH,GACrC9H,SAASY,iBAAiB,QAASmH,GAE/BpB,EAAQwC,0BAA0BhB,KACpC5B,EAAgBhG,UAAUC,IAAI,aAC9BiG,EAAqBlG,UAAUQ,OAAO,cAEpC4F,EAAQyC,wBAAwBjB,KAClC3B,EAAcjG,UAAUC,IAAI,aAC5BkG,EAAmBnG,UAAUQ,OAAO,a,IA1GxC,IAAIuH,EAAc,GAGlBvE,EAAmB4C,EAAQ0C,sBAE3B,IAAMC,EAAWtJ,SAASC,cAAc,iBAClCsJ,EAAYvJ,SAASC,cAAc,mBA+BzC,SAAS6H,EAAczH,GACH,UAAdA,EAAMC,OACRU,EAAKa,iBAAiBtB,UAAUC,IAAI,aACpCR,SAAS6H,KAAKtH,UAAUQ,OAAO,c,CAInC,SAASgH,EAAgB1H,GACnBA,EAAMM,QAAUK,EAAKa,mBACvBb,EAAKa,iBAAiBtB,UAAUC,IAAI,aACpCR,SAAS6H,KAAKtH,UAAUQ,OAAO,c,CAuEnC,SAASsH,IACP,OAAO/F,KAAKC,MAAMC,aAAaC,QAAQ,gB,CA0EzC,SAASsG,IACPpC,EAAQK,cAERL,EAAQ6C,kBAAkBlB,GAC1B3B,EAAQQ,mBAIRZ,EAAgBhG,UAAUC,IAAI,aAC9BiG,EAAqBlG,UAAUQ,OAAO,aAElCwI,EAAUhJ,UAAUkJ,SAAS,gBACa,IAAxC9C,EAAQ0C,qBAAqBzG,SAC/B5B,EAAKM,WAAWsH,UAAY,IAE9Bc,I,CAIJ,SAASV,IACPzC,EAAgBhG,UAAUQ,OAAO,aACjC0F,EAAqBlG,UAAUC,IAAI,aAEnCmG,EAAQgD,kBAAkBrB,GAEtBiB,EAAUhJ,UAAUkJ,SAAS,eAC/BG,IAE0C,IAAxCjD,EAAQ0C,qBAAqBzG,QAC/BiC,G,CAKJ,SAASoE,IACPtC,EAAQkD,kBAAkBvB,GAE1B9B,EAAcjG,UAAUC,IAAI,aAC5BkG,EAAmBnG,UAAUQ,OAAO,aAEhCuI,EAAS/I,UAAUkJ,SAAS,gBACa,IAAvC9C,EAAQmD,oBAAoBlH,SAC9B5B,EAAKM,WAAWsH,UAAY,IAE9Bc,I,CAIJ,SAASR,IACP1C,EAAcjG,UAAUQ,OAAO,aAC/B2F,EAAmBnG,UAAUC,IAAI,aAEjCmG,EAAQoD,gBAAgBzB,GAEpBgB,EAAS/I,UAAUkJ,SAAS,eAC9BG,IAEyC,IAAvCjD,EAAQmD,oBAAoBlH,QAC9BiC,G,CAIJ,SAAS+E,IACI5J,SAASwB,eAAe8G,EAAY9E,IAC5CzC,Q,CAEL,SAAS2I,IACP3F,EAAmB,CAACuE,G,CA5PtBgB,EAAS1I,iBAAiB,SAG1B,WACEI,EAAKM,WAAWsH,UAAY,GAC5B7E,EAAmB4C,EAAQmD,qBAE3BR,EAASU,MAAMC,gBAAkB,UACjCX,EAASU,MAAME,OAAS,OACxBX,EAAUS,MAAMC,gBAAkB,cAClCV,EAAUS,MAAME,OAAS,kBAEzBX,EAAUhJ,UAAUQ,OAAO,cAC3BuI,EAAS/I,UAAUC,IAAI,a,IAZzB+I,EAAU3I,iBAAiB,SAe3B,WACEI,EAAKM,WAAWsH,UAAY,GAC5B7E,EAAmB4C,EAAQ0C,sBAE3BC,EAASU,MAAMC,gBAAkB,cACjCX,EAASU,MAAME,OAAS,kBACxBX,EAAUS,MAAMC,gBAAkB,UAClCV,EAAUS,MAAME,OAAS,OAEzBZ,EAAS/I,UAAUQ,OAAO,cAC1BwI,EAAUhJ,UAAUC,IAAI,a,IAuF1B6H,G","sources":["src/js/NataliaDavydenko.js","src/js/refs.js","src/js/voprim.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/watched-queue.js","src/library.js"],"sourcesContent":["const refs = {\n  modal: document.querySelector('[data-modal-footer]'),\n  closeBtn: document.querySelector('.footer-modal__closeBtn'),\n  openFooterModalBtn: document.querySelector('.js-team'),\n};\n\nrefs.openFooterModalBtn.addEventListener('click', e => {\n  e.preventDefault();\n  refs.modal.classList.remove('is-hidden');\n  document.addEventListener('keydown', onEscapeClick);\n  document.addEventListener('click', onBackdropClick);\n});\nrefs.closeBtn.addEventListener('click', e => {\n  e.preventDefault();\n  refs.modal.classList.add('is-hidden');\n  document.removeEventListener('keydown', onEscapeClick);\n  document.removeEventListener('click', onBackdropClick);\n});\nfunction onEscapeClick(event) {\n  if (event.code === 'Escape') {\n    refs.modal.classList.add('is-hidden');\n    document.removeEventListener('keydown', onEscapeClick);\n    document.removeEventListener('click', onBackdropClick);\n  }\n}\nfunction onBackdropClick(event) {\n  if (event.target === refs.modal) {\n    refs.modal.classList.add('is-hidden');\n    document.removeEventListener('click', onBackdropClick);\n    document.removeEventListener('keydown', onEscapeClick);\n  }\n}","const refs = {\n  backdrop: document.querySelector('.backdrop'),\n  teamLink: document.querySelector('.js-team'),\n  spinerBackdrop: document.querySelector('.spiner__backdrop'),\n  filmsListRef: document.querySelector('.films'),\n  gallery: document.querySelector('.gallery__set'),\n  libGallery: document.querySelector('.lib-gallery__set'),\n  container: document.getElementById('pagination'),\n  galleryGenreItem: document.querySelector('.film__genres'),\n  form: document.querySelector('.header-film__form'),\n  closeModalBtnForOneMovie: document.querySelector('.modal__button'),\n  modalForOneMovie: document.querySelector('.modal'),\n  backdropOneMovie: document.querySelector('.backdrop'),\n  btnAddToWatched: document.querySelector('.btn__modal-add'),\n  btnRemoveFromWatched: document.querySelector('.btn__modal-r-watched'),\n  btnAddToQuene: document.querySelector('.btn__modal-queue'),\n  btnRemoveFromQuene: document.querySelector('.btn__modal-r-queue'),\n};\n\nexport { refs };\n","import { refs } from './refs';\n// import TrendingMovies from './MykolaPom';\n\n// функция отрисовки топ фильмов\nexport function renderFilmsMarkup(films) {\n  films\n    .map(({ poster_path, genre_ids, title, release_date, id }) => {\n      const poster = poster_path\n        ? `https://image.tmdb.org/t/p/w500${poster_path}`\n        : `https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg`;\n      return `<li class=\"films__item\" data-id=${id || `No ID`}>\n                <div class=\"films__img\">\n                    <img src=https://image.tmdb.org/t/p/original${poster} alt=\"${\n        title || 'No title'\n      }\" loading=\"lazy\">\n                </div>\n                <div class=\"films__description\">\n                  <p class=\"films__title\">${title || 'No title'}</p>\n                  <div class=\"films__meta\">\n                    <span class=\"films__genres\">${\n                      getGenres(genre_ids, 3) || 'No genres info'\n                    }</span>\n                    <span class=\"films__sep\">|</span>\n                    <span class=\"films__data\">${\n                      new Date(release_date).getFullYear() || 'No info'\n                    }</span>\n                  </div>\n                </div>\n            </li>`;\n    })\n    .forEach(c => refs.gallery.insertAdjacentHTML('beforeend', c));\n}\nexport function getGenres(genre_ids, maxGenresShown) {\n  const genres = JSON.parse(localStorage.getItem('genres'));\n  const genresArr = [];\n\n  for (\n    let genreIndex = 0;\n    genreIndex < maxGenresShown && genreIndex < genre_ids.length;\n    genreIndex++\n  ) {\n    for (const value of genres) {\n      if (genre_ids[genreIndex] === value.id) {\n        genresArr.push(value.name);\n      }\n    }\n  }\n  if (genre_ids.length > maxGenresShown) {\n    genresArr.splice(maxGenresShown - 1, 1, 'Other');\n  }\n  return genresArr.join(', ');\n}\n\nexport function renderFilmsLibrary(films) {\n  if (films) {\n    if (!films.length) {\n      setImgInLib();\n      return;\n    }\n    films\n      .map(({ poster_path, genre_ids, title, release_date, id }) => {\n        const poster = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : `https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg`;\n        return `<li class=\"films__item\" id=${id || `No ID`}>\n                <div class=\"films__img\">\n                    <img src=https://image.tmdb.org/t/p/original${poster} alt=\"${\n          title || 'No title'\n        }\" loading=\"lazy\">\n                </div>\n                <div class=\"films__description\">\n                  <p class=\"films__title\">${title || 'No title'}</p>\n                  <div class=\"films__meta\">\n\n                    <span class=\"films__genres\">${\n                      getGenres(genre_ids, 100) || 'No genres info'\n                    }</span>\n\n                    <span class=\"films__sep\">|</span>\n                    <span class=\"films__data\">${\n                      new Date(release_date).getFullYear() || 'No info'\n                    }</span>\n                  </div>\n                </div>\n            </li>`;\n      })\n      .forEach(c => refs.libGallery.insertAdjacentHTML('beforeend', c));\n    return;\n  }\n  setImgInLib();\n}\n\nexport function setImgInLib() {\n  const img = document.createElement('IMG');\n  img.src =\n    'https://pixabay.com/get/ge54d4ab7e47d1dcaa072c16cfc25f8a2bb8767deab654c65a06e780c723be590c8fbd2ff489664d51e29ce30406501db7d6e0da15783af39347f3587196c4e6d_1280.jpg';\n  img.alt = 'image';\n  img.width = '700';\n  refs.libGallery.append(img);\n}\n\n// функция отрисовки жанров\n\n// export function renderGenres(renderGenresFilms) {\n//   let genreString;\n//   renderGenresFilms.map(film => {\n//     const filmGenres = film.genre_ids;\n//     let array = [];\n\n//     //console.log('filmGenres', filmGenres);\n//     filmGenres.map(genre => {\n//       const filmGenre = localStorage.getItem(genre);\n//       array.push(filmGenre);\n//       genreString = array.join(', ');\n//     });\n//   });\n//   //refs.galleryGenreItem.textContent = 777;\n//   return genreString;\n// }\n\n// // Функция записи жанров в локалсторедж\n// export async function getGenres() {\n//   const trendingMovies = new TrendingMovies();\n//   try {\n//     const result = await trendingMovies.fetchGenresIds();\n//     for (const genre of result) {\n//       localStorage.setItem(`${genre.id}`, `${genre.name}`);\n//     }\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n// lib-gallery-render-func\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export default class FilmsStorage {\n  constructor() {\n    this._watchedFilmsList = [];\n    this._queueFilmsList = [];\n    this.refreshData();\n    this.refreshDataQueue();\n  }\n  refreshData() {\n    if (localStorage.getItem('watched-films')) {\n      this._watchedFilmsList = JSON.parse(\n        localStorage.getItem('watched-films')\n      );\n    }\n    //console.log('пусто');\n  }\n\n  refreshDataQueue() {\n    if (localStorage.getItem('queue-films')) {\n      this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    }\n    return;\n  }\n\n  addToWatchedFilms(item) {\n    if (localStorage.getItem('watched-films')) {\n      this._watchedFilmsList = JSON.parse(\n        localStorage.getItem('watched-films')\n      );\n    }\n    this._watchedFilmsList.push(item);\n    this.saveWatchedFilms();\n  }\n\n  myAddToQueueFilms(film) {\n    if (localStorage.getItem('queue-films')) {\n      this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    }\n\n    this._queueFilmsList.push(film);\n    localStorage.setItem('queue-films', JSON.stringify(this._queueFilmsList));\n  }\n\n  addToQueueFilms(item) {\n    if (localStorage.getItem('queue-films')) {\n      this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    }\n    this._queueFilmsList.push(item);\n    this.saveQueueFilms();\n  }\n\n  saveWatchedFilms() {\n    localStorage.setItem(\n      'watched-films',\n      JSON.stringify(this._watchedFilmsList)\n    );\n  }\n\n  saveQueueFilms() {\n    localStorage.setItem('queue-films', JSON.stringify(this._queueFilmsList));\n  }\n\n  getWathedFilmsList() {\n    if (!localStorage.getItem('watched-films')) {\n      return;\n    }\n    // this._watchedFilmsList = JSON.parse(localStorage.getItem('watched-films'));\n    return JSON.parse(localStorage.getItem('watched-films'));\n  }\n  getQueueFilmsList() {\n    if (!localStorage.getItem('queue-films')) {\n      return;\n    }\n    // this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    return JSON.parse(localStorage.getItem('queue-films'));\n  }\n  removeFromWatched(film) {\n    if (!localStorage.getItem('watched-films')) {\n      return;\n    }\n    this._watchedFilmsList = JSON.parse(localStorage.getItem('watched-films'));\n    const index = this._watchedFilmsList.findIndex(\n      option => option.title === film.title\n    );\n    this._watchedFilmsList.splice(index, 1);\n    this.saveWatchedFilms();\n  }\n  removeFromQueue(film) {\n    if (!localStorage.getItem('queue-films')) {\n      return;\n    }\n    this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    const index = this._queueFilmsList.findIndex(\n      option => option.title === film.title\n    );\n    this._queueFilmsList.splice(index, 1);\n    this.saveQueueFilms();\n  }\n\n  checkFilmInWatchedLocStor(film) {\n    if (!localStorage.getItem('watched-films')) {\n      return;\n    }\n    this._watchedFilmsList = JSON.parse(localStorage.getItem('watched-films'));\n    const answer = this._watchedFilmsList.find(\n      option => option.title === film.title\n    );\n    if (answer) {\n      return true;\n    }\n    return false;\n  }\n\n  checkFilmInQueueLocStor(film) {\n    if (!localStorage.getItem('queue-films')) {\n      return;\n    }\n    this._queueFilmsList = JSON.parse(localStorage.getItem('queue-films'));\n    const answer = this._queueFilmsList.find(\n      option => option.title === film.title\n    );\n    if (answer) {\n      return true;\n    }\n    return false;\n  }\n}\n\n//const storage = new FilmsStorage();\n\n//const addToWatchedBtn = document.querySelector('.btn__modal-add');\n\n//addToWatchedBtn.addEventListener('click', addToLS);\n\n//function addToLS() {\n//  console.log(1);\n//}\n","// Федір, твори магію)\nimport './js/NataliaDavydenko';\nimport { refs } from './js/refs';\nimport { renderFilmsLibrary } from './js/voprim';\nimport FilmsStorage from './js/watched-queue';\nimport { getGenres } from './js/voprim';\nimport { setImgInLib } from './js/voprim';\n\n//\n\nconst storage = new FilmsStorage();\nconst movieDescription = document.querySelector('.modal__wrap');\nrefs.closeModalBtnForOneMovie.addEventListener('click', onCloseModal);\nrefs.libGallery.addEventListener('click', onOpenModal);\n\n//\nlet addToWatchedBtn;\n\nlet addToQueueBtn;\nlet removeFromWatchedBtn;\nlet removeFromQueueBtn;\nlet currentFilm = {};\n//\n\nrenderFilmsLibrary(storage.getWathedFilmsList());\n\nconst queueBtn = document.querySelector('.queue-button');\nconst wachedBtn = document.querySelector('.watched-button');\n\nqueueBtn.addEventListener('click', onQueueBtnClick);\nwachedBtn.addEventListener('click', onWachedBtnClick);\n\nfunction onQueueBtnClick() {\n  refs.libGallery.innerHTML = '';\n  renderFilmsLibrary(storage.getQueueFilmsList());\n\n  queueBtn.style.backgroundColor = '#ff6b01';\n  queueBtn.style.border = 'none';\n  wachedBtn.style.backgroundColor = 'transparent';\n  wachedBtn.style.border = '1px solid white';\n\n  wachedBtn.classList.remove('currentbtn');\n  queueBtn.classList.add('currentbtn');\n}\n\nfunction onWachedBtnClick() {\n  refs.libGallery.innerHTML = '';\n  renderFilmsLibrary(storage.getWathedFilmsList());\n\n  queueBtn.style.backgroundColor = 'transparent';\n  queueBtn.style.border = '1px solid white';\n  wachedBtn.style.backgroundColor = '#ff6b01';\n  wachedBtn.style.border = 'none';\n\n  queueBtn.classList.remove('currentbtn');\n  wachedBtn.classList.add('currentbtn');\n}\n\nfunction onEscapeClick(event) {\n  if (event.code == 'Escape') {\n    refs.backdropOneMovie.classList.add('is-hidden');\n    document.body.classList.remove('modal-open');\n  }\n}\n\nfunction onBackdropClick(event) {\n  if (event.target == refs.backdropOneMovie) {\n    refs.backdropOneMovie.classList.add('is-hidden');\n    document.body.classList.remove('modal-open');\n  }\n}\n\n// findFilmFunc\nfunction findCurrentFilm(name) {\n  const filmsSet = getMoviesToLocalhost();\n  currentFilm = filmsSet.find(option => option.original_title === name);\n  return currentFilm;\n}\n// missclick\nfunction checkClick(e) {\n  const element = e.target.nodeName;\n  if (\n    element === 'DIV' ||\n    element === 'IMG' ||\n    element === 'P' ||\n    element === 'SPAN'\n  ) {\n    return true;\n  }\n  return false;\n}\n\nfunction onOpenModal(e) {\n  if (!checkClick(e)) {\n    return;\n  }\n\n  refs.backdropOneMovie.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n\n  const nameFilm = e.target.alt;\n  const curentObject = findCurrentFilm(nameFilm);\n\n  renderOneMovieForModal(curentObject);\n\n  //\n\n  addToWatchedBtn = document.querySelector('.btn__modal-add');\n  addToQueueBtn = document.querySelector('.btn__modal-queue');\n  removeFromQueueBtn = document.querySelector('.btn__modal-r-queue');\n  removeFromWatchedBtn = document.querySelector('.btn__modal-r-watched');\n\n  addToWatchedBtn.addEventListener('click', addToWatchedLS);\n  removeFromWatchedBtn.addEventListener('click', removeFromWatchedLS);\n  addToQueueBtn.addEventListener('click', addToQueueLS);\n  removeFromQueueBtn.addEventListener('click', removeFromQueueLS);\n  //\n\n  document.addEventListener('keydown', onEscapeClick);\n  document.addEventListener('click', onBackdropClick);\n\n  if (storage.checkFilmInWatchedLocStor(curentObject)) {\n    addToWatchedBtn.classList.add('is-hidden');\n    removeFromWatchedBtn.classList.remove('is-hidden');\n  }\n  if (storage.checkFilmInQueueLocStor(curentObject)) {\n    addToQueueBtn.classList.add('is-hidden');\n    removeFromQueueBtn.classList.remove('is-hidden');\n  }\n}\n\nfunction onCloseModal() {\n  refs.backdropOneMovie.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n\n  document.removeEventListener('keydown', onEscapeClick);\n  document.removeEventListener('click', onBackdropClick);\n}\n\nfunction getMoviesToLocalhost() {\n  return JSON.parse(localStorage.getItem('currentFilms'));\n}\ngetMoviesToLocalhost();\n\nfunction renderOneMovieForModal({\n  genre_ids,\n  poster_path,\n  original_title,\n  overview,\n  popularity,\n  title,\n  vote_average,\n  vote_count,\n}) {\n  movieDescription.innerHTML = '';\n  const poster = poster_path\n    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n    : `https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg`;\n  return (movieDescription.innerHTML = `\n  <div class=\"image__wrap\">\n    <img class=\"image\" src=\"https://image.tmdb.org/t/p/original${poster}\" alt=\"${\n    title || 'No title'\n  }\" />\n  </div>\n  <div class=\"description__wrap\">\n    <h1 class=\"description__title\">${title || 'No title'}</h1>\n    <table>\n      <tr class=\"table__wrap\">\n        <td class=\"description__table\">Vote / Votes</td>\n        <td class=\"description__table-result\">\n          <span class=\"votes\">${vote_average.toFixed(1) || 'No data'}</span> /${\n    vote_count || 'No data'\n  }\n        </td>\n      </tr>\n      <tr class=\"table__wrap\">\n        <td class=\"description__table\">Popularity</td>\n        <td class=\"description__table-result\">${\n          popularity.toFixed(1) || 'No data'\n        }</td>\n      </tr>\n      <tr class=\"table__wrap\">\n        <td class=\"description__table\">Original Title</td>\n        <td class=\"description__table-result\">${\n          original_title || 'No original title'\n        }</td>\n      </tr>\n\n      <tr class=\"table__wrap\">\n        <td class=\"description__table\">Genre</td>\n        <td class=\"description__table-result\">${\n          getGenres(genre_ids, 100) || 'No genres info'\n        }</td>\n      </tr>\n    </table>\n    <p class=\"descrption__about\">ABOUT</p>\n    <p class=\"description__text\">\n     ${overview || 'There is no imformation about this movie'}\n    </p>\n    <ul class=\"btn__wrap\">\n      <li>\n        <button class=\"btn btn__modal-add\">add to Watched</button>\n        <button class=\"btn btn__modal-r-watched is-hidden\">remove from Watched</button>\n      </li>\n      <li>\n        <button class=\"btn btn__modal-queue\">add to queue</button>\n        <button class=\"btn btn__modal-r-queue is-hidden\">remove from queue</button>\n      </li>\n    </ul>\n  </div>\n`);\n}\n\n//функціонал для ЛС\nfunction addToWatchedLS() {\n  storage.refreshData();\n\n  storage.addToWatchedFilms(currentFilm);\n  storage.saveWatchedFilms();\n\n  //\n\n  addToWatchedBtn.classList.add('is-hidden');\n  removeFromWatchedBtn.classList.remove('is-hidden');\n\n  if (wachedBtn.classList.contains('currentbtn')) {\n    if (storage.getWathedFilmsList().length === 1) {\n      refs.libGallery.innerHTML = '';\n    }\n    addToDOMelement();\n  }\n}\n\nfunction removeFromWatchedLS() {\n  addToWatchedBtn.classList.remove('is-hidden');\n  removeFromWatchedBtn.classList.add('is-hidden');\n\n  storage.removeFromWatched(currentFilm);\n\n  if (wachedBtn.classList.contains('currentbtn')) {\n    removeFromDomElement();\n  }\n  if (storage.getWathedFilmsList().length === 0) {\n    setImgInLib();\n  }\n}\n// uquqee\n\nfunction addToQueueLS() {\n  storage.myAddToQueueFilms(currentFilm);\n\n  addToQueueBtn.classList.add('is-hidden');\n  removeFromQueueBtn.classList.remove('is-hidden');\n\n  if (queueBtn.classList.contains('currentbtn')) {\n    if (storage.getQueueFilmsList().length === 1) {\n      refs.libGallery.innerHTML = '';\n    }\n    addToDOMelement();\n  }\n}\n\nfunction removeFromQueueLS() {\n  addToQueueBtn.classList.remove('is-hidden');\n  removeFromQueueBtn.classList.add('is-hidden');\n\n  storage.removeFromQueue(currentFilm);\n\n  if (queueBtn.classList.contains('currentbtn')) {\n    removeFromDomElement();\n  }\n  if (storage.getQueueFilmsList().length === 0) {\n    setImgInLib();\n  }\n}\n\nfunction removeFromDomElement() {\n  const el = document.getElementById(currentFilm.id);\n  el.remove();\n}\nfunction addToDOMelement() {\n  renderFilmsLibrary([currentFilm]);\n}\n"],"names":["$698656689b3cfcf3$var$refs","modal","document","querySelector","closeBtn","openFooterModalBtn","$698656689b3cfcf3$var$onEscapeClick","event","code","classList","add","removeEventListener","$698656689b3cfcf3$var$onBackdropClick","target","addEventListener","e","preventDefault","remove","$37e33676934ad046$export$21666b427502ea6d","backdrop","teamLink","spinerBackdrop","filmsListRef","gallery","libGallery","container","getElementById","galleryGenreItem","form","closeModalBtnForOneMovie","modalForOneMovie","backdropOneMovie","btnAddToWatched","btnRemoveFromWatched","btnAddToQuene","btnRemoveFromQuene","$f1b5ea32af53b705$export$c5604fa8028da00","genre_ids","maxGenresShown","genres","JSON","parse","localStorage","getItem","genresArr","genreIndex","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","id","push","name","err","return","splice","join","$f1b5ea32af53b705$export$1385a8623dbdd01b","films","map","param","poster_path","title","release_date","poster","concat","Date","getFullYear","forEach","c","insertAdjacentHTML","$f1b5ea32af53b705$export$22e832d66312f05f","img","createElement","src","alt","width","append","Object","defineProperty","$665014edacbfe17b$exports","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","props","i","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$cecbdd76f2d3d4bd$var$addToWatchedBtn","$cecbdd76f2d3d4bd$var$addToQueueBtn","$cecbdd76f2d3d4bd$var$removeFromWatchedBtn","$cecbdd76f2d3d4bd$var$removeFromQueueBtn","$cecbdd76f2d3d4bd$var$storage","FilmsStorage","this","_watchedFilmsList","_queueFilmsList","refreshData","refreshDataQueue","item","saveWatchedFilms","film","setItem","stringify","saveQueueFilms","index","findIndex","option","find","$cecbdd76f2d3d4bd$var$movieDescription","body","$cecbdd76f2d3d4bd$var$onEscapeClick","$cecbdd76f2d3d4bd$var$onBackdropClick","element","nodeName","$cecbdd76f2d3d4bd$var$checkClick","curentObject","filmsSet","$cecbdd76f2d3d4bd$var$getMoviesToLocalhost","$cecbdd76f2d3d4bd$var$currentFilm","original_title","overview","popularity","vote_average","vote_count","innerHTML","toFixed","$cecbdd76f2d3d4bd$var$renderOneMovieForModal","$cecbdd76f2d3d4bd$var$addToWatchedLS","$cecbdd76f2d3d4bd$var$removeFromWatchedLS","$cecbdd76f2d3d4bd$var$addToQueueLS","$cecbdd76f2d3d4bd$var$removeFromQueueLS","checkFilmInWatchedLocStor","checkFilmInQueueLocStor","getWathedFilmsList","$cecbdd76f2d3d4bd$var$queueBtn","$cecbdd76f2d3d4bd$var$wachedBtn","addToWatchedFilms","contains","$cecbdd76f2d3d4bd$var$addToDOMelement","removeFromWatched","$cecbdd76f2d3d4bd$var$removeFromDomElement","myAddToQueueFilms","getQueueFilmsList","removeFromQueue","style","backgroundColor","border"],"version":3,"file":"library.330c94e7.js.map"}