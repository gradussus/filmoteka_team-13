!function(){function e(e){return e&&e.__esModule?e.default:e}var t={backdrop:document.querySelector(".backdrop"),teamLink:document.querySelector(".js-team"),spinerBackdrop:document.querySelector(".spiner__backdrop"),filmsListRef:document.querySelector(".films"),gallery:document.querySelector(".gallery__set"),libGallery:document.querySelector(".lib-gallery__set"),container:document.getElementById("pagination"),galleryGenreItem:document.querySelector(".film__genres"),form:document.querySelector(".header-film__form"),closeModalBtnForOneMovie:document.querySelector(".modal__button"),modalForOneMovie:document.querySelector(".modal"),backdropOneMovie:document.querySelector(".backdrop"),btnAddToWatched:document.querySelector(".btn__modal-add"),btnRemoveFromWatched:document.querySelector(".btn__modal-r-watched"),btnAddToQuene:document.querySelector(".btn__modal-queue"),btnRemoveFromQuene:document.querySelector(".btn__modal-r-queue")};function a(e,t){for(var a=JSON.parse(localStorage.getItem("genres")),l=[],r=0;r<t&&r<e.length;r++){var i=!0,n=!1,o=void 0;try{for(var s,u=a[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;e[r]===c.id&&l.push(c.name)}}catch(e){n=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(n)throw o}}}return 0===l.length?"No genres info":(e.length>t&&l.push("Other"),l.join(", "))}function l(e){e.map((function(e){var t=e.poster_path,l=e.genre_ids,r=e.title,i=e.release_date,n=e.id;return'<li class="films__item" data-id='.concat(n,'>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original').concat(t,' alt="').concat(r,'" loading="lazy">\n                </div>\n                <div class="films__description">\n                  <p class="films__title">').concat(r,'</p>\n                  <div class="films__meta">\n                    <span class="films__genres">').concat(a(l),'</span>\n                    <span class="films__sep">|</span>\n                    <span class="films__data">').concat(i.slice(0,4)||"No year info","</span>\n                  </div>\n                </div>\n            </li>")})).forEach((function(e){return t.libGallery.insertAdjacentHTML("beforeend",e)}))}var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var i={};function n(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,a){t&&n(e.prototype,t);a&&n(e,a);return e};var o=new(function(){"use strict";function t(){e(r)(this,t),this._watchedFilmsList=[],this._queueFilmsList=[],this.refreshData(),this.refreshDataQueue()}return e(i)(t,[{key:"refreshData",value:function(){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")))}},{key:"refreshDataQueue",value:function(){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")))}},{key:"addToWatchedFilms",value:function(e){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"))),this._watchedFilmsList.push(e),this.saveWatchedFilms()}},{key:"addToQueueFilms",value:function(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),this.saveQueueFilms()}},{key:"saveWatchedFilms",value:function(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilmsList))}},{key:"saveQueueFilms",value:function(){localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}},{key:"getWathedFilmsList",value:function(){if(localStorage.getItem("watched-films"))return JSON.parse(localStorage.getItem("watched-films"))}},{key:"getQueueFilmsList",value:function(){if(localStorage.getItem("queue-films"))return JSON.parse(localStorage.getItem("queue-films"))}}]),t}());l(o.getWathedFilmsList()),document.querySelector(".queue-button").addEventListener("click",(function(){t.libGallery.innerHTML="",l(o.getQueueFilmsList())}))}();
//# sourceMappingURL=library.bae86a19.js.map
