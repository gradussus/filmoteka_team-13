!function(){function e(e){return e&&e.__esModule?e.default:e}var t={backdrop:document.querySelector(".backdrop"),teamLink:document.querySelector(".js-team"),spinerBackdrop:document.querySelector(".spiner__backdrop"),filmsListRef:document.querySelector(".films"),gallery:document.querySelector(".gallery__set"),libGallery:document.querySelector(".lib-gallery__set"),container:document.getElementById("pagination"),galleryGenreItem:document.querySelector(".film__genres"),form:document.querySelector(".header-film__form"),closeModalBtnForOneMovie:document.querySelector(".modal__button"),modalForOneMovie:document.querySelector(".modal"),backdropOneMovie:document.querySelector(".backdrop"),btnAddToWatched:document.querySelector(".btn__modal-add"),btnRemoveFromWatched:document.querySelector(".btn__modal-r-watched"),btnAddToQuene:document.querySelector(".btn__modal-queue"),btnRemoveFromQuene:document.querySelector(".btn__modal-r-queue")};function i(e,t){for(var i=JSON.parse(localStorage.getItem("genres")),l=[],a=0;a<t&&a<e.length;a++){var s=!0,r=!1,u=void 0;try{for(var o,n=i[Symbol.iterator]();!(s=(o=n.next()).done);s=!0){var c=o.value;e[a]===c.id&&l.push(c.name)}}catch(e){r=!0,u=e}finally{try{s||null==n.return||n.return()}finally{if(r)throw u}}}return 0===l.length?"No genres info":(e.length>t&&l.push("Other"),l.join(", "))}function l(e){e.map((function(e){var t=e.poster_path,l=e.genre_ids,a=e.title,s=e.release_date,r=e.id;return'<li class="films__item" data-id='.concat(r,'>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original').concat(t,' alt="').concat(a,'" loading="lazy">\n                </div>\n                <div class="films__description">\n                  <p class="films__title">').concat(a,'</p>\n                  <div class="films__meta">\n                    <span class="films__genres">').concat(i(l),'</span>\n                    <span class="films__sep">|</span>\n                    <span class="films__data">').concat(s.slice(0,4)||"No year info","</span>\n                  </div>\n                </div>\n            </li>")})).forEach((function(e){return t.libGallery.insertAdjacentHTML("beforeend",e)}))}var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var s={};function r(e,t){for(var i=0;i<t.length;i++){var l=t[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t,i){t&&r(e.prototype,t);i&&r(e,i);return e};var u=new(function(){"use strict";function t(){e(a)(this,t),this._watchedFilmsList=[],this._queueFilmsList=[],this.refreshData(),this.refreshDataQueue()}return e(s)(t,[{key:"refreshData",value:function(){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")))}},{key:"refreshDataQueue",value:function(){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")))}},{key:"addToWatchedFilms",value:function(e){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"))),this._watchedFilmsList.push(e),this.saveWatchedFilms()}},{key:"myAddToQueueFilms",value:function(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}},{key:"addToQueueFilms",value:function(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),this.saveQueueFilms()}},{key:"saveWatchedFilms",value:function(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilmsList))}},{key:"saveQueueFilms",value:function(){localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}},{key:"getWathedFilmsList",value:function(){if(localStorage.getItem("watched-films"))return JSON.parse(localStorage.getItem("watched-films"))}},{key:"getQueueFilmsList",value:function(){if(localStorage.getItem("queue-films"))return JSON.parse(localStorage.getItem("queue-films"))}},{key:"removeFromWatched",value:function(e){if(localStorage.getItem("watched-films")){this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"));var t=this._watchedFilmsList.findIndex((function(t){return t.title===e.title}));this._watchedFilmsList.splice(t,1),this.saveWatchedFilms()}}},{key:"removeFromQueue",value:function(e){if(localStorage.getItem("queue-films")){this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"));var t=this._queueFilmsList.findIndex((function(t){return t.title===e.title}));this._queueFilmsList.splice(t,1),this.saveQueueFilms()}}},{key:"checkFilmInWatchedLocStor",value:function(e){if(localStorage.getItem("watched-films"))return this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")),!!this._watchedFilmsList.find((function(t){return t.title===e.title}))}},{key:"checkFilmInQueueLocStor",value:function(e){if(localStorage.getItem("queue-films"))return this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")),!!this._queueFilmsList.find((function(t){return t.title===e.title}))}}]),t}());l(u.getWathedFilmsList()),document.querySelector(".queue-button").addEventListener("click",(function(){t.libGallery.innerHTML="",l(u.getQueueFilmsList())}))}();
//# sourceMappingURL=library.fe9946fe.js.map
