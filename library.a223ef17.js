!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("46zAn"),s("dp0um");var i,r,a,o,d=s("4Nugj"),l=s("5118m"),c=s("lWBva"),u=(s("5118m"),l=s("5118m"),s("axifr")),m=new(0,c.default),b=document.querySelector(".modal__wrap");d.refs.closeModalBtnForOneMovie.addEventListener("click",(function(){d.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",_),document.removeEventListener("click",g)})),d.refs.libGallery.addEventListener("click",(function(e){if(!function(e){var t=e.target.nodeName;return"plug"!==e.target.getAttribute("alt")&&("DIV"===t||"IMG"===t||"P"===t||"SPAN"===t)}(e))return;d.refs.btnScroll.style.display="none",d.refs.backdropOneMovie.classList.remove("is-hidden"),document.body.classList.add("modal-open");var t=function(e){var t=[];v.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("watched-films")));p.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("queue-films")));return L=t.find((function(t){return t.id===e}))}(Number(e.target.id));(function(e){var t=e.genre_ids,n=e.poster_path,s=e.original_title,i=e.overview,r=e.popularity,a=e.title,o=e.vote_average,d=e.vote_count,c=e.id;b.innerHTML="";var u=n?"https://image.tmdb.org/t/p/w500".concat(n):"https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg";b.innerHTML='\n  <div class="image__wrap">\n    <img class="image" src="https://image.tmdb.org/t/p/original'.concat(u,'" alt="').concat(a||"No title",'" />\n  </div>\n  <div class="description__wrap">\n    <h1 class="description__title">').concat(a||"No title",'</h1>\n    <table>\n      <tr class="table__wrap">\n        <td class="description__table">Vote / Votes</td>\n        <td class="description__table-result">\n          <span class="votes">').concat(o.toFixed(1)||"No data","</span> /").concat(d||"No data",'\n        </td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Popularity</td>\n        <td class="description__table-result">').concat(r.toFixed(1)||"No data",'</td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Original Title</td>\n        <td class="description__table-result">').concat(s||"No original title",'</td>\n      </tr>\n\n      <tr class="table__wrap">\n        <td class="description__table">Genre</td>\n        <td class="description__table-result">').concat((0,l.getGenres)(t,100)||"No genres info",'</td>\n      </tr>\n    </table>\n    <p class="descrption__about">ABOUT</p>\n    <p class="description__text">\n     ').concat(i||"There is no imformation about this movie",'\n    </p>\n    <ul class="btn__wrap">\n      <li>\n        <button class="btn btn__modal-add">add to Watched</button>\n        <button class="btn btn__modal-r-watched is-hidden">remove from Watched</button>\n      </li>\n      <li>\n        <button class="btn btn__modal-queue">add to queue</button>\n        <button class="btn btn__modal-r-queue is-hidden">remove from queue</button>\n      </li>\n    </ul>\n    <div class="btn__wrap">\n    <button class="btn play-trailer" id="').concat(c,'">Watch Trailer</button>\n    </div>\n  </div>\n')})(t),i=document.querySelector(".btn__modal-add"),r=document.querySelector(".btn__modal-queue"),o=document.querySelector(".btn__modal-r-queue"),a=document.querySelector(".btn__modal-r-watched"),i.addEventListener("click",f),a.addEventListener("click",h),r.addEventListener("click",y),o.addEventListener("click",w),document.querySelector(".play-trailer").addEventListener("click",u.createTrailerLink),document.addEventListener("keydown",_),document.addEventListener("click",g),m.checkFilmInWatchedLocStor(t)&&(i.classList.add("is-hidden"),a.classList.remove("is-hidden"));m.checkFilmInQueueLocStor(t)&&(r.classList.add("is-hidden"),o.classList.remove("is-hidden"))}));var L={};(0,l.renderFilmsLibrary)(m.getWathedFilmsList());var p=document.querySelector(".queue-button"),v=document.querySelector(".watched-button");function _(e){"Escape"==e.code&&(d.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function g(e){e.target==d.refs.backdropOneMovie&&(d.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function f(){m.refreshData(),m.addToWatchedFilms(L),m.saveWatchedFilms(),i.classList.add("is-hidden"),a.classList.remove("is-hidden"),v.classList.contains("currentbtn")&&(1===m.getWathedFilmsList().length&&(d.refs.libGallery.innerHTML=""),k()),q(),I()}function h(){i.classList.remove("is-hidden"),a.classList.add("is-hidden"),m.removeFromWatched(L),v.classList.contains("currentbtn")&&F(),0===m.getWathedFilmsList().length&&(0,l.setImgInLib)(),q(),I()}function y(){m.myAddToQueueFilms(L),r.classList.add("is-hidden"),o.classList.remove("is-hidden"),p.classList.contains("currentbtn")&&(1===m.getQueueFilmsList().length&&(d.refs.libGallery.innerHTML=""),k()),q(),I()}function w(){r.classList.remove("is-hidden"),o.classList.add("is-hidden"),m.removeFromQueue(L),p.classList.contains("currentbtn")&&F(),0===m.getQueueFilmsList().length&&(0,l.setImgInLib)(),q(),I()}function F(){document.getElementById(L.id).remove()}function k(){(0,l.renderFilmsLibrary)([L])}function I(){v.classList.contains("currentbtn")&&(void 0!==m.getWathedFilmsList()&&m.getWathedFilmsList().length?(0,l.removeImgInLib)():(0,l.setImgInLib)())}function q(){p.classList.contains("currentbtn")&&(void 0!==m.getQueueFilmsList()&&m.getQueueFilmsList().length?(0,l.removeImgInLib)():(0,l.setImgInLib)())}p.addEventListener("click",(function(){d.refs.libGallery.innerHTML="",(0,l.renderFilmsLibrary)(m.getQueueFilmsList()),p.style.backgroundColor="#ff6b01",p.style.border="none",v.style.backgroundColor="transparent",v.style.border="1px solid white",v.classList.remove("currentbtn"),p.classList.add("currentbtn"),q()})),v.addEventListener("click",(function(){d.refs.libGallery.innerHTML="",(0,l.renderFilmsLibrary)(m.getWathedFilmsList()),p.style.backgroundColor="transparent",p.style.border="1px solid white",v.style.backgroundColor="#ff6b01",v.style.border="none",p.classList.remove("currentbtn"),v.classList.add("currentbtn"),I()}))}();
//# sourceMappingURL=library.a223ef17.js.map
