var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var i=s("krGWQ"),r=s("ljBKB"),d=s("jew7v");r=s("ljBKB");s("fb9GJ");const o=new(0,d.default),a=document.querySelector(".modal__wrap");let l,c,u,m;i.refs.closeModalBtnForOneMovie.addEventListener("click",(function(){i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",v),document.removeEventListener("click",L)})),i.refs.libGallery.addEventListener("click",(function(e){if(!function(e){const t=e.target.nodeName;return"DIV"===t||"IMG"===t||"P"===t||"SPAN"===t}(e))return;i.refs.backdropOneMovie.classList.remove("is-hidden"),document.body.classList.add("modal-open");const t=function(e){const t=f();return b=t.find((t=>t.original_title===e)),b}(e.target.alt);(function({genre_ids:e,poster_path:t,original_title:n,overview:s,popularity:i,title:d,vote_average:o,vote_count:l}){a.innerHTML="";const c=t?`https://image.tmdb.org/t/p/w500${t}`:"https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg";a.innerHTML=`\n  <div class="image__wrap">\n    <img class="image" src="https://image.tmdb.org/t/p/original${c}" alt="${d||"No title"}" />\n  </div>\n  <div class="description__wrap">\n    <h1 class="description__title">${d||"No title"}</h1>\n    <table>\n      <tr class="table__wrap">\n        <td class="description__table">Vote / Votes</td>\n        <td class="description__table-result">\n          <span class="votes">${o.toFixed(1)||"No data"}</span> /${l||"No data"}\n        </td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Popularity</td>\n        <td class="description__table-result">${i.toFixed(1)||"No data"}</td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Original Title</td>\n        <td class="description__table-result">${n||"No original title"}</td>\n      </tr>\n\n      <tr class="table__wrap">\n        <td class="description__table">Genre</td>\n        <td class="description__table-result">${(0,r.getGenres)(e,100)||"No genres info"}</td>\n      </tr>\n    </table>\n    <p class="descrption__about">ABOUT</p>\n    <p class="description__text">\n     ${s||"There is no imformation about this movie"}\n    </p>\n    <ul class="btn__wrap">\n      <li>\n        <button class="btn btn__modal-add">add to Watched</button>\n        <button class="btn btn__modal-r-watched is-hidden">remove from Watched</button>\n      </li>\n      <li>\n        <button class="btn btn__modal-queue">add to queue</button>\n        <button class="btn btn__modal-r-queue is-hidden">remove from queue</button>\n      </li>\n    </ul>\n  </div>\n`})(t),l=document.querySelector(".btn__modal-add"),c=document.querySelector(".btn__modal-queue"),m=document.querySelector(".btn__modal-r-queue"),u=document.querySelector(".btn__modal-r-watched"),l.addEventListener("click",h),u.addEventListener("click",g),c.addEventListener("click",y),m.addEventListener("click",w),document.addEventListener("keydown",v),document.addEventListener("click",L),o.checkFilmInWatchedLocStor(t)&&(l.classList.add("is-hidden"),u.classList.remove("is-hidden"));o.checkFilmInQueueLocStor(t)&&(c.classList.add("is-hidden"),m.classList.remove("is-hidden"))}));let b={};(0,r.renderFilmsLibrary)(o.getWathedFilmsList());const p=document.querySelector(".queue-button"),_=document.querySelector(".watched-button");function v(e){"Escape"==e.code&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function L(e){e.target==i.refs.backdropOneMovie&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function f(){return JSON.parse(localStorage.getItem("currentFilms"))}function h(){o.refreshData(),o.addToWatchedFilms(b),o.saveWatchedFilms(),l.classList.add("is-hidden"),u.classList.remove("is-hidden"),i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getWathedFilmsList()),pagination()}function g(){l.classList.remove("is-hidden"),u.classList.add("is-hidden"),o.removeFromWatched(b),F(_)&&k(b),pagination()}function y(){o.myAddToQueueFilms(b),c.classList.add("is-hidden"),m.classList.remove("is-hidden"),i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getQueueFilmsList()),pagination()}function w(){c.classList.remove("is-hidden"),m.classList.add("is-hidden"),o.removeFromQueue(b),F(p)&&k(b),pagination()}function k(e){document.getElementById(e.id).remove()}function F(e){return!!e.classList.contains("currentbtn")}p.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getQueueFilmsList()),p.style.backgroundColor="#ff6b01",p.style.border="none",_.style.backgroundColor="transparent",_.style.border="1px solid white",_.classList.remove("currentbtn"),p.classList.add("currentbtn")})),_.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(o.getWathedFilmsList()),p.style.backgroundColor="transparent",p.style.border="1px solid white",_.style.backgroundColor="#ff6b01",_.style.border="none",p.classList.remove("currentbtn"),_.classList.add("currentbtn")})),f();
//# sourceMappingURL=library.5a8d304d.js.map
