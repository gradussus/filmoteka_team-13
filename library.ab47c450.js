var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("bWjuf"),s("bb26h");var i=s("krGWQ"),r=s("cky31"),d=s("jew7v"),o=(s("cky31"),r=s("cky31"),s("lUanL"));const a=new(0,d.default),l=document.querySelector(".modal__wrap");let c,u,m,b;i.refs.closeModalBtnForOneMovie.addEventListener("click",(function(){i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",_),document.removeEventListener("click",g)})),i.refs.libGallery.addEventListener("click",(function(e){if(!function(e){const t=e.target.nodeName;return"plug"!==e.target.getAttribute("alt")&&("DIV"===t||"IMG"===t||"P"===t||"SPAN"===t)}(e))return;i.refs.btnScroll.style.display="none",i.refs.backdropOneMovie.classList.remove("is-hidden"),document.body.classList.add("modal-open");const t=function(e){let t=[];v.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("watched-films")));p.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("queue-films")));return L=t.find((t=>t.id===e)),L}(Number(e.target.id));(function({genre_ids:e,poster_path:t,original_title:n,overview:s,popularity:i,title:d,vote_average:o,vote_count:a,id:c}){l.innerHTML="";const u=t?`https://image.tmdb.org/t/p/w500${t}`:"https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg";l.innerHTML=`\n  <div class="image__wrap">\n    <img class="image" src="https://image.tmdb.org/t/p/original${u}" alt="${d||"No title"}" />\n  </div>\n  <div class="description__wrap">\n    <h1 class="description__title">${d||"No title"}</h1>\n    <table>\n      <tr class="table__wrap">\n        <td class="description__table">Vote / Votes</td>\n        <td class="description__table-result">\n          <span class="votes">${o.toFixed(1)||"No data"}</span> /${a||"No data"}\n        </td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Popularity</td>\n        <td class="description__table-result">${i.toFixed(1)||"No data"}</td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Original Title</td>\n        <td class="description__table-result">${n||"No original title"}</td>\n      </tr>\n\n      <tr class="table__wrap">\n        <td class="description__table">Genre</td>\n        <td class="description__table-result">${(0,r.getGenres)(e,100)||"No genres info"}</td>\n      </tr>\n    </table>\n    <p class="descrption__about">ABOUT</p>\n    <p class="description__text">\n     ${s||"There is no imformation about this movie"}\n    </p>\n    <ul class="btn__wrap">\n      <li>\n        <button class="btn btn__modal-add">add to Watched</button>\n        <button class="btn btn__modal-r-watched is-hidden">remove from Watched</button>\n      </li>\n      <li>\n        <button class="btn btn__modal-queue">add to queue</button>\n        <button class="btn btn__modal-r-queue is-hidden">remove from queue</button>\n      </li>\n    </ul>\n    <div class="btn__wrap">\n    <button class="btn play-trailer" id="${c}">Watch Trailer</button>\n    </div>\n  </div>\n`})(t),c=document.querySelector(".btn__modal-add"),u=document.querySelector(".btn__modal-queue"),b=document.querySelector(".btn__modal-r-queue"),m=document.querySelector(".btn__modal-r-watched"),c.addEventListener("click",f),m.addEventListener("click",h),u.addEventListener("click",y),b.addEventListener("click",k);document.querySelector(".play-trailer").addEventListener("click",o.createTrailerLink),document.addEventListener("keydown",_),document.addEventListener("click",g),a.checkFilmInWatchedLocStor(t)&&(c.classList.add("is-hidden"),m.classList.remove("is-hidden"));a.checkFilmInQueueLocStor(t)&&(u.classList.add("is-hidden"),b.classList.remove("is-hidden"))}));let L={};(0,r.renderFilmsLibrary)(a.getWathedFilmsList());const p=document.querySelector(".queue-button"),v=document.querySelector(".watched-button");function _(e){"Escape"==e.code&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function g(e){e.target==i.refs.backdropOneMovie&&(i.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function f(){a.refreshData(),a.addToWatchedFilms(L),a.saveWatchedFilms(),c.classList.add("is-hidden"),m.classList.remove("is-hidden"),v.classList.contains("currentbtn")&&(1===a.getWathedFilmsList().length&&(i.refs.libGallery.innerHTML=""),F()),q(),I()}function h(){c.classList.remove("is-hidden"),m.classList.add("is-hidden"),a.removeFromWatched(L),v.classList.contains("currentbtn")&&w(),0===a.getWathedFilmsList().length&&(0,r.setImgInLib)(),q(),I()}function y(){a.myAddToQueueFilms(L),u.classList.add("is-hidden"),b.classList.remove("is-hidden"),p.classList.contains("currentbtn")&&(1===a.getQueueFilmsList().length&&(i.refs.libGallery.innerHTML=""),F()),q(),I()}function k(){u.classList.remove("is-hidden"),b.classList.add("is-hidden"),a.removeFromQueue(L),p.classList.contains("currentbtn")&&w(),0===a.getQueueFilmsList().length&&(0,r.setImgInLib)(),q(),I()}function w(){document.getElementById(L.id).remove()}function F(){(0,r.renderFilmsLibrary)([L])}function I(){v.classList.contains("currentbtn")&&(void 0!==a.getWathedFilmsList()&&a.getWathedFilmsList().length?(0,r.removeImgInLib)():(0,r.setImgInLib)())}function q(){p.classList.contains("currentbtn")&&(void 0!==a.getQueueFilmsList()&&a.getQueueFilmsList().length?(0,r.removeImgInLib)():(0,r.setImgInLib)())}p.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(a.getQueueFilmsList()),p.style.backgroundColor="#ff6b01",p.style.border="none",v.style.backgroundColor="transparent",v.style.border="1px solid white",v.classList.remove("currentbtn"),p.classList.add("currentbtn"),q()})),v.addEventListener("click",(function(){i.refs.libGallery.innerHTML="",(0,r.renderFilmsLibrary)(a.getWathedFilmsList()),p.style.backgroundColor="transparent",p.style.border="1px solid white",v.style.backgroundColor="#ff6b01",v.style.border="none",p.classList.remove("currentbtn"),v.classList.add("currentbtn"),I()}));
//# sourceMappingURL=library.ab47c450.js.map
