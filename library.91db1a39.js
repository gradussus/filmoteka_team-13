!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,s.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("dp0um");var i,r,a,d,o=s("4Nugj"),c=s("5118m"),l=s("lWBva"),u=(s("5118m"),c=s("5118m"),s("axifr")),m=new(0,l.default),b=document.querySelector(".modal__wrap");o.refs.closeModalBtnForOneMovie.addEventListener("click",(function(){o.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",_),document.removeEventListener("click",f)})),o.refs.libGallery.addEventListener("click",(function(e){if(!function(e){var t=e.target.nodeName;return"plug"!==e.target.getAttribute("alt")&&("DIV"===t||"IMG"===t||"P"===t||"SPAN"===t)}(e))return;o.refs.backdropOneMovie.classList.remove("is-hidden"),document.body.classList.add("modal-open");var t=function(e){var t=[];L.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("watched-films")));v.classList.contains("currentbtn")&&(t=JSON.parse(localStorage.getItem("queue-films")));return p=t.find((function(t){return t.id===e}))}(Number(e.target.id));(function(e){var t=e.genre_ids,n=e.poster_path,s=e.original_title,i=e.overview,r=e.popularity,a=e.title,d=e.vote_average,o=e.vote_count,l=e.id;b.innerHTML="";var u=n?"https://image.tmdb.org/t/p/w500".concat(n):"https://image.tmdb.org/t/p/w500/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg";b.innerHTML='\n  <div class="image__wrap">\n    <img class="image" src="https://image.tmdb.org/t/p/original'.concat(u,'" alt="').concat(a||"No title",'" />\n  </div>\n  <div class="description__wrap">\n    <h1 class="description__title">').concat(a||"No title",'</h1>\n    <table>\n      <tr class="table__wrap">\n        <td class="description__table">Vote / Votes</td>\n        <td class="description__table-result">\n          <span class="votes">').concat(d.toFixed(1)||"No data","</span> /").concat(o||"No data",'\n        </td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Popularity</td>\n        <td class="description__table-result">').concat(r.toFixed(1)||"No data",'</td>\n      </tr>\n      <tr class="table__wrap">\n        <td class="description__table">Original Title</td>\n        <td class="description__table-result">').concat(s||"No original title",'</td>\n      </tr>\n\n      <tr class="table__wrap">\n        <td class="description__table">Genre</td>\n        <td class="description__table-result">').concat((0,c.getGenres)(t,100)||"No genres info",'</td>\n      </tr>\n    </table>\n    <p class="descrption__about">ABOUT</p>\n    <p class="description__text">\n     ').concat(i||"There is no imformation about this movie",'\n    </p>\n    <ul class="btn__wrap">\n      <li>\n        <button class="btn btn__modal-add">add to Watched</button>\n        <button class="btn btn__modal-r-watched is-hidden">remove from Watched</button>\n      </li>\n      <li>\n        <button class="btn btn__modal-queue">add to queue</button>\n        <button class="btn btn__modal-r-queue is-hidden">remove from queue</button>\n      </li>\n    </ul>\n    <div class="btn__wrap">\n    <button class="btn play-trailer" id="').concat(l,'">Watch Trailer</button>\n    </div>\n  </div>\n')})(t),i=document.querySelector(".btn__modal-add"),r=document.querySelector(".btn__modal-queue"),d=document.querySelector(".btn__modal-r-queue"),a=document.querySelector(".btn__modal-r-watched"),i.addEventListener("click",h),a.addEventListener("click",g),r.addEventListener("click",y),d.addEventListener("click",w),document.querySelector(".play-trailer").addEventListener("click",u.createTrailerLink),document.addEventListener("keydown",_),document.addEventListener("click",f),m.checkFilmInWatchedLocStor(t)&&(i.classList.add("is-hidden"),a.classList.remove("is-hidden"));m.checkFilmInQueueLocStor(t)&&(r.classList.add("is-hidden"),d.classList.remove("is-hidden"))}));var p={};(0,c.renderFilmsLibrary)(m.getWathedFilmsList());var v=document.querySelector(".queue-button"),L=document.querySelector(".watched-button");function _(e){"Escape"==e.code&&(o.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function f(e){e.target==o.refs.backdropOneMovie&&(o.refs.backdropOneMovie.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function h(){m.refreshData(),m.addToWatchedFilms(p),m.saveWatchedFilms(),i.classList.add("is-hidden"),a.classList.remove("is-hidden"),L.classList.contains("currentbtn")&&(1===m.getWathedFilmsList().length&&(o.refs.libGallery.innerHTML=""),F())}function g(){i.classList.remove("is-hidden"),a.classList.add("is-hidden"),m.removeFromWatched(p),L.classList.contains("currentbtn")&&k(),0===m.getWathedFilmsList().length&&(0,c.setImgInLib)()}function y(){m.myAddToQueueFilms(p),r.classList.add("is-hidden"),d.classList.remove("is-hidden"),v.classList.contains("currentbtn")&&(1===m.getQueueFilmsList().length&&(o.refs.libGallery.innerHTML=""),F())}function w(){r.classList.remove("is-hidden"),d.classList.add("is-hidden"),m.removeFromQueue(p),v.classList.contains("currentbtn")&&k(),0===m.getQueueFilmsList().length&&(0,c.setImgInLib)()}function k(){document.getElementById(p.id).remove()}function F(){(0,c.renderFilmsLibrary)([p])}v.addEventListener("click",(function(){o.refs.libGallery.innerHTML="",(0,c.renderFilmsLibrary)(m.getQueueFilmsList()),v.style.backgroundColor="#ff6b01",v.style.border="none",L.style.backgroundColor="transparent",L.style.border="1px solid white",L.classList.remove("currentbtn"),v.classList.add("currentbtn")})),L.addEventListener("click",(function(){o.refs.libGallery.innerHTML="",(0,c.renderFilmsLibrary)(m.getWathedFilmsList()),v.style.backgroundColor="transparent",v.style.border="1px solid white",L.style.backgroundColor="#ff6b01",L.style.border="none",v.classList.remove("currentbtn"),L.classList.add("currentbtn")}))}();
//# sourceMappingURL=library.91db1a39.js.map
