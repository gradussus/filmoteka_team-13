!function(){function e(e){return e&&e.__esModule?e.default:e}var t={backdrop:document.querySelector(".backdrop"),teamLink:document.querySelector(".js-team"),spinerBackdrop:document.querySelector(".spiner__backdrop"),filmsListRef:document.querySelector(".films"),gallery:document.querySelector(".gallery__set"),libGallery:document.querySelector(".lib-gallery__set"),container:document.getElementById("pagination"),galleryGenreItem:document.querySelector(".film__genres"),form:document.querySelector(".header-film__form"),closeModalBtnForOneMovie:document.querySelector(".modal__button"),modalForOneMovie:document.querySelector(".modal"),backdropOneMovie:document.querySelector(".backdrop"),btnAddToWatched:document.querySelector(".btn__modal-add"),btnRemoveFromWatched:document.querySelector(".btn__modal-r-watched"),btnAddToQuene:document.querySelector(".btn__modal-queue"),btnRemoveFromQuene:document.querySelector(".btn__modal-r-queue")};function a(e){for(var t=JSON.parse(localStorage.getItem("genres")),a=[],l=0;l<e.length;l++){var i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;e[l]===u.id&&a.push(u.name)}}catch(e){r=!0,n=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw n}}}return 0===a.length?"No info":a.join(", ")}function l(e){e.map((function(e){var t=e.poster_path,l=e.genre_ids,i=e.title,r=e.release_date,n=e.id;return'<li class="films__item" data-id='.concat(n,'>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original').concat(t,' alt="').concat(i,'" loading="lazy">\n                </div>\n                <div class="films__description">\n                  <p class="films__title">').concat(i,'</p>\n                  <div class="films__meta">\n                    <span class="films__genres">').concat(a(l),'</span>\n                    <span class="films__sep">|</span>\n                    <span class="films__data">').concat((r||"No info").slice(0,4),"</span>\n                  </div>\n                </div>\n            </li>")})).forEach((function(e){return t.libGallery.insertAdjacentHTML("beforeend",e)}))}var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var r={};function n(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,a){t&&n(e.prototype,t);a&&n(e,a);return e};var o=new(function(){"use strict";function t(){e(i)(this,t),this._watchedFilmsList=[],this._queueFilmsList=[],this.refreshData(),this.refreshDataQueue()}return e(r)(t,[{key:"refreshData",value:function(){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")))}},{key:"refreshDataQueue",value:function(){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")))}},{key:"addToWatchedFilms",value:function(e){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"))),this._watchedFilmsList.push(e),this.saveWatchedFilms()}},{key:"addToQueueFilms",value:function(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),this.saveQueueFilms()}},{key:"saveWatchedFilms",value:function(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilmsList))}},{key:"saveQueueFilms",value:function(){localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}},{key:"getWathedFilmsList",value:function(){if(localStorage.getItem("watched-films"))return JSON.parse(localStorage.getItem("watched-films"))}},{key:"getQueueFilmsList",value:function(){if(localStorage.getItem("queue-films"))return JSON.parse(localStorage.getItem("queue-films"))}}]),t}());l(o.getWathedFilmsList()),document.querySelector(".queue-button").addEventListener("click",(function(){t.libGallery.innerHTML="",l(o.getQueueFilmsList())}))}();
//# sourceMappingURL=library.648d0a11.js.map
