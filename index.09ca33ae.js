function e(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("krGWQ",(function(t,i){e(t.exports,"refs",(function(){return r}));const r={backdrop:document.querySelector(".backdrop"),teamLink:document.querySelector(".js-team"),spinerBackdrop:document.querySelector(".spiner__backdrop"),filmsListRef:document.querySelector(".films"),gallery:document.querySelector(".gallery__set"),libGallery:document.querySelector(".lib-gallery__set"),container:document.getElementById("pagination"),galleryGenreItem:document.querySelector(".film__genres"),form:document.querySelector(".header-film__form"),closeModalBtnForOneMovie:document.querySelector(".modal__button"),modalForOneMovie:document.querySelector(".modal"),backdropOneMovie:document.querySelector(".backdrop"),btnAddToWatched:document.querySelector(".btn__modal-add"),btnRemoveFromWatched:document.querySelector(".btn__modal-r-watched"),btnAddToQuene:document.querySelector(".btn__modal-queue"),btnRemoveFromQuene:document.querySelector(".btn__modal-r-queue"),trailerBackdrop:document.querySelector(".js-backdrop-trailer"),checkBox:document.querySelector(".checkbox"),main:document.querySelector("main"),globalInputValue:""}})),o.register("cky31",(function(t,i){e(t.exports,"renderFilmsMarkup",(function(){return l})),e(t.exports,"getGenres",(function(){return a})),e(t.exports,"renderFilmsLibrary",(function(){return n})),e(t.exports,"setImgInLib",(function(){return c}));var r=o("krGWQ"),s=o("4S0r6");function l(e){e.map((({poster_path:e,genre_ids:t,title:i,release_date:r,id:o})=>`<li class="films__item" data-id=${o||"No ID"}>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original${e?`https://image.tmdb.org/t/p/w400${e}`:"https://image.tmdb.org/t/p/w400/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg"} alt="${i||"No title"}" loading="lazy" id=${o}>\n                </div>\n                <div class="films__description" id=${o}>\n                  <p class="films__title" id=${o}>${i||"No title"}</p>\n                  <div class="films__meta" id=${o}>\n                    <span class="films__genres" id=${o}>${a(t,3)||"No genres info"}</span>\n                    <span class="films__sep" id=${o}>|</span>\n                    <span class="films__data" id=${o}>${new Date(r).getFullYear()||"No info"}</span>\n                  </div>\n                </div>\n            </li>`)).forEach((e=>r.refs.gallery.insertAdjacentHTML("beforeend",e)))}function a(e,t){const i=JSON.parse(localStorage.getItem("genres")),r=[];for(let o=0;o<t&&o<e.length;o++)for(const t of i)e[o]===t.id&&r.push(t.name);return e.length>t&&r.splice(t-1,1,"Other"),r.join(", ")}function n(e){if((0,s.loadTheme)(),e)return e.length?void e.map((({poster_path:e,genre_ids:t,title:i,release_date:r,id:o})=>`<li class="films__item" id=${o||"No ID"}>\n                <div class="films__img">\n                    <img src=https://image.tmdb.org/t/p/original${e?`https://image.tmdb.org/t/p/w400${e}`:"https://image.tmdb.org/t/p/w400/yEvumAoCB9Z7o9dAzjxrjcwo2FQ.jpg"} alt="${i||"No title"}" loading="lazy" id=${o}>\n                </div>\n                <div class="films__description" id=${o}>\n                  <p class="films__title" id=${o}>${i||"No title"}</p>\n                  <div class="films__meta" id=${o}>\n                    <span class="films__genres" id=${o}>${a(t,3)||"No genres info"}</span>\n                    <span class="films__sep" id=${o}>|</span>\n                    <span class="films__data" id=${o}>${new Date(r).getFullYear()||"No info"}</span>\n                  </div>\n                </div>\n            </li>`)).forEach((e=>r.refs.libGallery.insertAdjacentHTML("beforeend",e))):void c();c()}function c(){const e=document.createElement("IMG");e.src="https://pixabay.com/get/gefdffe0e3a111a2d5c539dc6a08c82b4b787e4962786126035071f95a2a5c46d2ebf8f194c8663dc4a63fb2935acb30d52287b634ea8567d22c059278eaa580d_1280.jpg",e.alt="plug",e.width="700",r.refs.libGallery.append(e)}})),o.register("4S0r6",(function(t,i){e(t.exports,"loadTheme",(function(){return s}));var r=o("krGWQ");function s(){r.refs.checkBox.checked=JSON.parse(localStorage.getItem("dark-theme")),r.refs.checkBox.checked&&(r.refs.main.style.backgroundColor="#272e34",r.refs.modalForOneMovie.style.backgroundColor="#272e34"),r.refs.checkBox.checked||(r.refs.main.style.backgroundColor="#fff",r.refs.modalForOneMovie.style.backgroundColor="#fff")}r.refs.checkBox.addEventListener("click",(function(){localStorage.setItem("dark-theme",JSON.stringify(r.refs.checkBox.checked)),r.refs.checkBox.checked&&(r.refs.main.style.backgroundColor="#272e34",r.refs.modalForOneMovie.style.backgroundColor="#272e34");r.refs.checkBox.checked||(r.refs.main.style.backgroundColor="#fff",r.refs.modalForOneMovie.style.backgroundColor="#fff")}))})),o.register("jew7v",(function(t,i){e(t.exports,"default",(function(){return r}));class r{refreshData(){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films")))}refreshDataQueue(){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films")))}addToWatchedFilms(e){localStorage.getItem("watched-films")&&(this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"))),this._watchedFilmsList.push(e),this.saveWatchedFilms()}myAddToQueueFilms(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}addToQueueFilms(e){localStorage.getItem("queue-films")&&(this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"))),this._queueFilmsList.push(e),this.saveQueueFilms()}saveWatchedFilms(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilmsList))}saveQueueFilms(){localStorage.setItem("queue-films",JSON.stringify(this._queueFilmsList))}getWathedFilmsList(){if(localStorage.getItem("watched-films"))return JSON.parse(localStorage.getItem("watched-films"))}getQueueFilmsList(){if(localStorage.getItem("queue-films"))return JSON.parse(localStorage.getItem("queue-films"))}removeFromWatched(e){if(!localStorage.getItem("watched-films"))return;this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"));const t=this._watchedFilmsList.findIndex((t=>t.title===e.title));this._watchedFilmsList.splice(t,1),this.saveWatchedFilms()}removeFromQueue(e){if(!localStorage.getItem("queue-films"))return;this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"));const t=this._queueFilmsList.findIndex((t=>t.title===e.title));this._queueFilmsList.splice(t,1),this.saveQueueFilms()}checkFilmInWatchedLocStor(e){if(!localStorage.getItem("watched-films"))return;this._watchedFilmsList=JSON.parse(localStorage.getItem("watched-films"));return!!this._watchedFilmsList.find((t=>t.title===e.title))}checkFilmInQueueLocStor(e){if(!localStorage.getItem("queue-films"))return;this._queueFilmsList=JSON.parse(localStorage.getItem("queue-films"));return!!this._queueFilmsList.find((t=>t.title===e.title))}constructor(){this._watchedFilmsList=[],this._queueFilmsList=[],this.refreshData(),this.refreshDataQueue()}}})),o.register("lUanL",(function(t,i){e(t.exports,"createTrailerLink",(function(){return n}));var r=o("krGWQ"),s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";var l=document.getElementsByTagName("script")[0];let a;async function n(){const e=document.querySelector(".play-trailer").id,t=await async function(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=5d44c33850258a6ea050e461474b1468&language=en-US`);if(t.ok)return await t.json()}catch(e){console.log("error")}}(e);if(r.refs.trailerBackdrop.classList.remove("is-hidden"),0===t.results.length)return void console.log("Нет в БД трейлера к этому фильму. Нам очень жаль.");let i=t.results.find((e=>"Trailer"===e.type&&"YouTube"===e.site));var o;o=i.key,a=new YT.Player("player",{height:"360",width:"640",videoId:o,playerVars:{autoplay:1,controls:1,rel:0},events:{onReady:c,onStateChange:d}})}function c(e){e.target.playVideo()}function d(e){}function m(){a.stopVideo()}l.parentNode.insertBefore(s,l),r.refs.trailerBackdrop.addEventListener("click",(e=>{e.currentTarget.classList.toggle("is-hidden"),r.refs.trailerBackdrop.innerHTML="",r.refs.trailerBackdrop.innerHTML='<div class="modal__trailer" id="player"></div>',m()}))})),o.register("bb26h",(function(e,t){const i={modal:document.querySelector("[data-modal-footer]"),closeBtn:document.querySelector(".footer-modal__closeBtn"),openFooterModalBtn:document.querySelector(".js-team")};function r(e){"Escape"===e.code&&(i.modal.classList.add("is-hidden"),document.removeEventListener("keydown",r),document.removeEventListener("click",o))}function o(e){e.target===i.modal&&(i.modal.classList.add("is-hidden"),document.removeEventListener("click",o),document.removeEventListener("keydown",r))}i.openFooterModalBtn.addEventListener("click",(e=>{e.preventDefault(),i.modal.classList.remove("is-hidden"),document.addEventListener("keydown",r),document.addEventListener("click",o)})),i.closeBtn.addEventListener("click",(e=>{e.preventDefault(),i.modal.classList.add("is-hidden"),document.removeEventListener("keydown",r),document.removeEventListener("click",o)}))}));
//# sourceMappingURL=index.09ca33ae.js.map
